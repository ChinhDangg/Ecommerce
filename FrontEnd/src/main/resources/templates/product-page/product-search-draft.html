<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100">

<header class="bg-white shadow-md" th:insert="~{product-page/top-header-template :: top-header-content}">
</header>

<div class="max-w-7xl mx-auto px-4 py-8">
    <!-- Header -->
    <h1 class="text-1xl font-bold text-gray-900 mb-6">
        <div id="search-string-container">
            <span>Search Results for "</span><span id="current-search-string" th:text="${search_string}"></span><span>"</span>
        </div>
        <span id="current-page" class="hidden" th:text="${page}"></span>
        <span id="current-sort" class="hidden" th:text="${sort}"></span>
        <span id="current-s-filter" class="hidden" th:text="${special_filter}"></span>
        <span id="current-filter" class="hidden" th:text="${filter}"></span>
        <span id="category-id" class="hidden" th:text="${category_id}"></span>
        <span id="call-url" class="hidden" th:text="${call_url}"></span>
        <span id="redirect-url" class="hidden" th:text="${redirect_url}"></span>
        <span id="card-url" class="hidden" th:text="${card_url}"></span>
    </h1>

    <!-- Filters -->
    <div id="content-container" class="mb-6 grid grid-cols-1 md:grid-cols-[300px_1fr] gap-6">
        <!-- Left: Filters -->
        <div id="filter-container" class="rounded-lg border bg-white p-4 shadow-sm self-start">
            <h2 class="mb-4 text-lg font-semibold text-gray-800">Filter by Configuration</h2>

            <!-- Filter Section: Processor -->
            <div class="filter-item hidden border-t border-gray-300">
                <!-- Section Title -->
                <button class="filter-btn flex w-full items-center justify-between px-2 py-3 text-left text-[1.05rem] font-semibold text-gray-800 transition hover:bg-gray-200">
                    <span class="filter-title">Processor</span>
                    <span class="toggle-icon text-xl text-gray-600">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <line x1="4" y1="10" x2="16" y2="10" stroke="#4B5563" stroke-width="1.5" class="horizontal-line"/>
                            <line x1="10" y1="4" x2="10" y2="16" stroke="#4B5563" stroke-width="1.5" class="vertical-line"/>
                        </svg>
                    </span>
                </button>

                <!-- Filter options -->
                <div class="filter-option-container hidden pb-4">
                    <div class="filter-option mt-2 px-2 hover:bg-gray-200 text-sm text-gray-700">
                        <a href="#">
                            <label for="filter-option-input" class="text-base flex items-center justify-between cursor-pointer">
                                <div class="flex items-center space-x-2">
                                    <input id="filter-option-input" type="checkbox" class="pointer-events-none w-4 h-4 filter-checkbox rounded text-blue-600"/>
                                    <span class="option-name">Intel Core Ultra 9</span>
                                </div>
                                <span class="option-count text-gray-400">12</span>
                            </label>
                        </a>
                    </div>
                </div>
            </div>
        </div>


        <!-- Right: Top Filters and Results -->
        <div id="right-content-container">
            <div class="flex flex-col md:flex-row md:items-center md:justify-between bg-white p-4 rounded-lg shadow-sm mb-6">
                <!-- Left: Results Text -->
                <p class="text-sm text-gray-600 mb-4 md:mb-0">Showing <span id="start-result-count">1</span>-<span id="end-result-count">10</span> of <span id="total-result">50</span> results</p>

                <!-- Right: Sort + View -->
                <div class="flex items-center gap-4">
                    <!-- Sort Dropdown -->
                    <label for="sort-by-selection">Sort by:</label>
                    <select id="sort-by-selection" class="border rounded px-3 py-2 text-sm">
                        <option value="RELEVANCE">Relevance</option>
                        <option value="PRICE_ASC">Price: Low to High</option>
                        <option value="PRICE_DESC">Price: High to Low</option>
                        <option value="MOST_RATED">Most rated</option>
                        <option value="TOP_RATED">Top rated</option>
                        <option value="NEWEST">Newest</option>
                        <option value="BEST_SELLING">Best selling</option>
                    </select>

                    <!-- View Toggle -->
                    <div class="flex items-center">
                        <span class="text-sm text-gray-700">View:</span>
                        <button id="grid-view-btn" class="p-2 rounded hover:bg-gray-100 flex items-center justify-center" title="Grid View">
                            <svg class="w-5 h-5 text-gray-600 relative align-middle top-[-1px]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                      d="M4 6h4v4H4V6m6 0h4v4h-4V6m6 0h4v4h-4V6M4 12h4v4H4v-4m6 0h4v4h-4v-4m6 0h4v4h-4v-4M4 18h4v4H4v-4m6 0h4v4h-4v-4m6 0h4v4h-4v-4" />
                            </svg>
                        </button>
                        <button id="list-view-btn" class="p-2 rounded hover:bg-gray-100 flex items-center justify-center" title="List View">
                            <svg class="w-5 h-5 text-gray-600 relative" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                      d="M4 6h16M4 12h16M4 18h16" />
                            </svg>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Product Listings -->
            <div id="product-item-container" class="space-y-6">

                <!-- Product Item -->
                <div class="product-item hidden w-full min-w-[14rem] p-4 border rounded-lg shadow-md bg-white flex
                    flex-row gap-6 items-start">
                    <div class="flex flex-col items-center space-y-2">
                        <a class="product-link" href="">
                            <div class="img-container w-48 h-48 flex items-center justify-center overflow-hidden">
                                <img src="" alt="Product image"
                                     class="product-img max-w-full max-h-full object-contain" />
                            </div>
                        </a>
                    </div>
                    <div class="space-y-2 flex-1">
                        <a class="product-link" href="">
                            <h2 class="product-name hover:text-blue-600 text-xl font-bold text-gray-900"></h2>
                        </a>
                        <p class="product-id text-sm text-gray-500"> # LE83F50018US | MFR # 83F50018US</p>
                        <div class="flex items-center text-yellow-500 text-sm">
                            ★★★★★ <span class="ml-2 text-gray-700">(155 Reviews)</span>
                        </div>
                        <div class="feature-container">
                            <div class="leading-none space-y-1">
                                <h3 class="text-lg font-semibold text-gray-800 mb-0 leading-none">Key Features</h3>
                                <ul class="product-feature-list text-sm text-gray-800 list-disc list-inside leading-tight">
                                </ul>
                            </div>
                            <button class="show-more-btn text-blue-600 text-sm hover:underline mt-1">Show More</button>
                            <button class="show-less-btn hidden text-blue-600 text-sm hover:underline mt-1">Show Less</button>
                        </div>
                    </div>
                    <div class="space-y-2">
                        <div class="flex items-center">
                            <button class="mr-1 text-blue-600 hover:text-blue-800">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                                </svg>
                            </button>
                            <span class="text-xs">Save for later</span>
                        </div>
                        <div class="flex items-center">
                            <span class="new-release-label rounded bg-blue-600 px-2 mr-2 py-1 text-xs font-semibold text-white">New Release</span>
                            <span class="in-stock-label rounded bg-green-100 px-2 py-1 text-xs font-semibold text-green-800">In Stock</span>
                            <span class="out-stock-label rounded bg-red-100 px-2 py-1 text-xs font-semibold text-red-800">Out of Stock</span>
                        </div>
                        <div class="mb-6 border-b border-gray-200 pb-4">
                            <div class="flex items-start">
                                <div class="text-left">
                                    <span class="sale-price text-2xl font-bold text-gray-900 block">$3,599.99</span>
                                    <span class="saved-price text-sm font-semibold text-green-600 block mt-1">Save $400.00</span>
                                </div>
                                <span class="price text-sm text-gray-500 line-through ml-2 mt-1">$3,999.99</span>
                            </div>
                            <p class="price-end-date text-sm text-gray-600 mt-2">Limited time offer</p>
                        </div>
                        <button class="add-to-cart-btn w-48 px-4 py-2 bg-blue-600 text-white font-semibold rounded hover:bg-blue-700 transition">
                            Add to Cart
                        </button>
                        <button class="out-of-stock-btn w-48 px-4 py-2 bg-gray-400 text-white font-semibold rounded cursor-not-allowed" disabled>
                            Out of Stock
                        </button>
                    </div>
                </div>

            </div>

        </div>
    </div>

    <!-- Pagination -->
    <div id="pagination-container" class="mt-8 flex justify-center">
        <nav class="inline-flex rounded-md shadow-sm">
            <a href="#" class="px-3 py-2 border rounded-l-md text-sm font-medium text-gray-500 bg-white hover:bg-gray-50">Previous</a>
            <div id="page-link-container" class="inline-flex">
                <a href="#" class="page-link-item hidden px-3 py-2 border-t border-b border-r text-sm font-medium text-blue-600 bg-white hover:bg-blue-500 hover:text-white">1</a>
            </div>
            <a href="#" class="px-3 py-2 border rounded-r-md text-sm font-medium text-gray-500 bg-white hover:bg-gray-50">Next</a>
        </nav>
    </div>
</div>

<footer class="bg-gray-200 text-gray-900 py-12" th:insert="~{product-page/footer-template :: footer-content}">
</footer>

<script type="module" src="/js/product-search-test.js"></script>

</body>
</html>