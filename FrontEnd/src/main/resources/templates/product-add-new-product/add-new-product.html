<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
</head>
<body>
    <div th:fragment="add-new-product-template">
        <div class="bg-white shadow sticky top-0 z-10">
            <div class="px-6 py-4 flex items-center justify-between">
                <div class="flex items-center">
                    <span class="text-xl font-semibold text-gray-800">Admin Panel</span>
                </div>
                <div class="flex items-center space-x-3">
                    <span class="px-2 py-1 bg-yellow-100 text-yellow-800 text-xs font-medium rounded-full">Draft</span>
                    <button class="px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-50">Discard</button>
                    <button id="publish-btn" class="px-3 py-1 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700">
                        Publish
                    </button>
                </div>
            </div>
        </div>

        <div class="p-6" id="add-new-product-content">
            <!-- Product Line Section -->
            <div class="bg-white rounded-lg shadow mb-6" id="product-line-section">
                <div class="border-b border-gray-200 px-4 py-4">
                    <h3 class="text-lg font-medium text-gray-800">Product Line</h3>
                </div>
                <div class="p-4">
                    <!-- Product Line Name -->
                    <div class="mb-6">
                        <label class="block text-sm font-medium text-gray-700 mb-1">Product Line Name</label>
                        <input id="product-line-name-input" type="text"
                               class="w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50"
                               placeholder="Enter product line name">
                        <p class="text-sm text-gray-500 mt-1">Group this product with others under the same product line (e.g.,
                            EOS R Series, Z Series).</p>
                    </div>

                    <!-- Product Line Images -->
                    <div class="mb-6">
                        <div class="flex justify-between items-center mb-4">
                            <label class="block text-sm font-medium text-gray-700">Product Line Images</label>
                            <div>
                                <input type="file" accept="image/*" id="add-line-image-input" class="hidden" multiple>
                                <button id="add-line-image-btn"
                                        class="px-3 py-1 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700">Add Images
                                </button>
                            </div>
                        </div>
                        <div id="product-line-images" class="grid grid-cols-2 md:grid-cols-4 gap-4"></div>
                        <p class="text-sm text-gray-500 mt-2">These images will be shared across all products in this product
                            line
                            (max 5).</p>
                    </div>

                    <!-- Product Line Descriptions -->
                    <div class="mb-6">
                        <h4 class="text-md font-medium text-gray-700 mb-2">Product Line Descriptions</h4>
                        <div id="product-line-descriptions" class="space-y-4">
                            <div class="description-entry flex items-start space-x-2 hidden">
                                <div class="flex-1 description-content">
                    <textarea
                            class="description-textarea-entry w-full h-20 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50"
                            placeholder="Enter paragraph or URL"></textarea>
                                    <div class="description-image-entry border border-gray-200 rounded-md p-2 hidden">
                                        <img src="" alt="empty" class="h-40 w-full object-contain">
                                    </div>
                                </div>
                                <div class="flex flex-col space-y-2">
                                    <button
                                            class="toggle-description-type px-2 py-1 text-sm bg-gray-500 text-white rounded-md hover:bg-gray-600"
                                            title="Switch to Image">Image
                                    </button>
                                    <button
                                            class="delete-description-btn px-2 py-1 text-sm bg-red-600 text-white rounded-md hover:bg-red-aiman700">
                                        Delete
                                    </button>
                                </div>
                                <input type="file" accept="image/*" class="description-image-input hidden">
                            </div>
                        </div>
                        <button id="add-line-description-btn"
                                class="mt-4 px-3 py-1 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700">Add
                            Description
                        </button>
                    </div>
                </div>
            </div>


            <!-- Product Category Section -->
            <div class="bg-white rounded-lg shadow mb-6" id="product-category-section">
                <!-- Header -->
                <div class="border-b border-gray-200 px-4 py-4 flex items-center justify-between">
                    <h3 class="text-lg font-medium text-gray-800">Product Category</h3>
                    <button id="category-back-button"
                            class="text-blue-600 hover:text-blue-800 focus:outline-none text-sm font-medium">
                        ‚Üê Back
                    </button>
                </div>

                <!-- Description -->
                <div class="p-4">
                    <p class="text-sm text-gray-500 mb-4">
                        Select one category for the product. Choose a category or click the arrow to view its subcategories on
                        the
                        right.
                    </p>

                    <!-- Two-Column Layout -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <!-- Left Column: Categories -->
                        <div class="space-y-2 border-r border-gray-200 pr-4">
                            <h4 class="text-sm font-medium text-gray-700 mb-2">Categories</h4>
                            <div id="category-list">
                                <div class="category-item hidden">
                                    <div
                                            class="flex justify-between items-center p-2 rounded hover:bg-gray-50 has-[:checked]:bg-blue-50">
                                        <div class="flex items-center pr-2">
                                            <input type="radio" name="category" id="category-input" value="category-value"
                                                   class="appearance-none h-4 w-4 border-2 border-gray-300 rounded-sm checked:border-blue-600 checked:bg-blue-100 focus:ring-blue-500"/>
                                            <label for="category-input"
                                                   class="ml-2 text-sm font-medium text-gray-700 flex-1 cursor-pointer">
                                                Laptops
                                            </label>
                                        </div>
                                        <button class="toggle-subcategories text-gray-600 hover:text-gray-800 focus:outline-none">
                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                 class="h-5 w-5 transform transition-transform duration-200" fill="none"
                                                 viewBox="0 0 24 24"
                                                 stroke="currentColor">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                      d="M19 9l-7 7-7-7">
                                                </path>
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                                <!-- More category items can be dynamically added here -->
                            </div>
                        </div>

                        <!-- Right Column: Subcategories -->
                        <div class="space-y-2">
                            <h4 class="text-sm font-medium text-gray-700 mb-2">Subcategories</h4>
                            <div id="subcategory-list">
                                <div class="subcategory-item hidden">
                                    <div class="flex justify-between items-center p-2 rounded hover:bg-gray-50 has-[:checked]:bg-blue-50">
                                        <div class="flex items-center pr-2">
                                            <input type="radio" name="category" id="category-input" value="subcategory-value"
                                                   class="appearance-none h-4 w-4 border-2 border-gray-300 rounded-sm checked:border-blue-600 checked:bg-blue-100 focus:ring-blue-500"/>
                                            <label for="category-input"
                                                   class="ml-2 text-sm text-gray-700 flex-1 cursor-pointer">
                                                Macs
                                            </label>
                                        </div>
                                        <button class="toggle-subcategories text-gray-600 hover:text-gray-800 focus:outline-none">
                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                 class="h-5 w-5 transform transition-transform duration-200" fill="none"
                                                 viewBox="0 0 24 24"
                                                 stroke="currentColor">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                      d="M19 9l-7 7-7-7">
                                                </path>
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                                <!-- More subcategory items can be dynamically added here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <!-- Product Options Section -->
            <div class="bg-white rounded-lg shadow mb-6" id="product-options-section">
                <div class="border-b border-gray-200 px-4 py-4">
                    <h3 class="text-lg font-medium text-gray-800">Product Options</h3>
                </div>
                <div class="p-4">
                    <div class="mb-4 flex space-x-4">
                        <button id="add-option-btn"
                                class="px-3 py-1 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700">Add Option
                        </button>
                        <button id="add-product-btn"
                                class="px-3 py-1 text-sm bg-green-600 text-white rounded-md hover:bg-green-700">Add New Product
                        </button>
                    </div>
                    <div id="option-values-container" class="mb-4">
                        <div class="option-value-item flex items-center space-x-2 mb-2 hidden">
                            <button class="add-value-btn px-2 py-1 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700">
                                Add Value
                            </button>
                            <span class="option-key font-medium">Option1:</span>
                            <span class="option-values"></span>
                            <button class="pop-value-btn px-2 py-1 text-sm bg-yellow-600 text-white rounded-md hover:bg-yellow-700">
                                Pop
                            </button>
                            <button class="remove-option-btn px-2 py-1 text-sm bg-red-600 text-white rounded-md hover:bg-red-700">
                                Remove
                            </button>
                        </div>
                    </div>
                    <div id="options-table" class="overflow-x-auto">
                        <table class="w-full text-sm text-left text-gray-700">
                            <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                            <tr id="option-header-tr">
                                <th class="option-header-th px-4 py-2">Product</th>
                            </tr>
                            </thead>
                            <tbody id="options-body">
                            <!-- Empty by default -->
                            <tr class="option-product-item hidden">
                                <td class="option-product-name px-4 py-2 font-medium">Product Name</td>
                                <td class="option-product-selection px-4 py-2">
                                    <select multiple
                                            class="w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50"
                                            data-option-id="">
                                        <option class="hidden" value="value2">Some value</option>
                                    </select>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>


            <!-- Product Specifications Section -->
            <div class="bg-white rounded-lg shadow mb-6" id="product-specifications-section">
                <div class="border-b border-gray-200 px-4 py-4">
                    <h3 class="text-lg font-medium text-gray-800">Product Specifications</h3>
                </div>
                <div class="p-4">
                    <div class="mb-4 flex space-x-4">
                        <button id="add-spec-btn"
                                class="px-3 py-1 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700">Add Specification
                        </button>
                    </div>
                    <div id="spec-values-container" class="mb-4">
                        <div class="spec-value-item flex items-center space-x-2 mb-2 hidden">
                            <button class="add-value-btn px-2 py-1 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700">
                                Add Value
                            </button>
                            <span class="spec-key font-medium">Option1:</span>
                            <span class="spec-values"></span>
                            <button class="pop-value-btn px-2 py-1 text-sm bg-yellow-600 text-white rounded-md hover:bg-yellow-700">
                                Pop
                            </button>
                            <button class="remove-option-btn px-2 py-1 text-sm bg-red-600 text-white rounded-md hover:bg-red-700">
                                Remove
                            </button>
                        </div>
                    </div>
                    <div id="specs-table" class="overflow-x-auto">
                        <table class="w-full text-sm text-left text-gray-700">
                            <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                            <tr id="spec-header-tr">
                                <th class="spec-header-th px-4 py-2">Product</th>
                            </tr>
                            </thead>
                            <tbody id="spec-body">
                            <!-- Empty by default -->
                            <tr class="spec-product-item hidden">
                                <td class="spec-product-name px-4 py-2 font-medium">Product Name</td>
                                <td class="spec-product-selection px-4 py-2">
                                    <select multiple
                                            class="w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50"
                                            data-spec="">
                                        <option class="hidden" value="value2">Some value</option>
                                    </select>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>


            <!-- Product Groups Container to hold all the product -->
            <div id="product-group-container">
                <!-- Hidden Product Group Template -->
                <div class="bg-white rounded-lg shadow mb-6 product-group-template hidden">
                    <div class="border-b border-gray-200 px-4 py-4 flex items-center justify-between">
                        <h3 class="product-number text-lg font-medium text-gray-800">Product 0</h3>
                        <div class="flex items-center space-x-2">
                            <button class="delete-product-btn px-2 py-1 text-sm bg-red-600 text-white rounded-md hover:bg-red-700">
                                Delete Product
                            </button>
                            <button class="toggle-collapse text-gray-600 hover:text-gray-800 focus:outline-none">
                                <svg xmlns="http://www.w3.org/2000/svg"
                                     class="h-5 w-5 transform transition-transform duration-200"
                                     fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                                </svg>
                            </button>
                        </div>
                    </div>

                    <div class="p-4 product-details">
                        <!-- Basic Information -->
                        <div class="mb-6">
                            <h4 class="text-md font-medium text-gray-700 mb-2">Basic Information</h4>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Product Name</label>
                                    <input type="text"
                                           class="product-name-input w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50"
                                           value="">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Brand</label>
                                    <input type="text"
                                           class="product-brand-input w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50"
                                           value="">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Manufacturer Part Number</label>
                                    <input type="text"
                                           class="product-manufacturer-part-number-input w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50"
                                           value="">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Quantity</label>
                                    <input type="number" min="0"
                                           class="product-quantity-input w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50"
                                           value="0">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Condition</label>
                                    <select class="product-condition-select w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50">
                                        <option value="NEW">New</option>
                                        <option value="OPENBOX">Open Box</option>
                                        <option value="REFURBISHED">Refurbished</option>
                                        <option value="USED">Used</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <!-- Pricing -->
                        <div class="mb-6">
                            <h4 class="text-md font-medium text-gray-700 mb-2">Pricing</h4>
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Regular Price ($)</label>
                                    <input type="number" min="0"
                                           class="product-regular-price-input w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50"
                                           value="">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Sale Price ($)</label>
                                    <input type="number" min="0"
                                           class="product-sale-price-input w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50"
                                           value="">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Sale End Date</label>
                                    <input type="date"
                                           class="product-sale-end-date-input w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50"
                                           value="">
                                </div>
                            </div>
                        </div>

                        <!-- Product Features -->
                        <div class="mb-6">
                            <h4 class="text-md font-medium text-gray-700 mb-2">Product Features</h4>
                            <div class="product-features space-y-4">
                                <div class="feature-entry flex items-start space-x-2">
                                    <div class="flex-1">
                                        <input type="text"
                                               class="product-feature-input w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50"
                                               placeholder="Enter product feature">
                                    </div>
                                    <button class="delete-feature-btn px-2 py-1 text-sm bg-red-600 text-white rounded-md hover:bg-red-700">
                                        Delete
                                    </button>
                                </div>
                            </div>
                            <button class="add-feature-btn mt-4 px-3 py-1 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700">
                                Add
                                Feature
                            </button>
                        </div>

                        <!-- Product Images -->
                        <div class="mb-6">
                            <div class="flex justify-between items-center mb-4">
                                <h4 class="text-md font-medium text-gray-700">Product Images</h4>
                                <div>
                                    <input type="file" accept="image/*" class="add-product-image-input hidden" multiple>
                                    <button class="add-product-image-btn px-3 py-1 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700">
                                        Add
                                        Images
                                    </button>
                                </div>
                            </div>
                            <div class="product-images grid grid-cols-2 md:grid-cols-4 gap-4"></div>
                        </div>

                        <!-- Product Descriptions -->
                        <div class="mb-6">
                            <h4 class="text-md font-medium text-gray-700 mb-2">Product Descriptions</h4>
                            <div class="product-descriptions space-y-4">
                                <div class="description-entry flex items-start space-x-2 hidden">
                                    <div class="flex-1 description-content">
                    <textarea
                            class="description-textarea-entry w-full h-20 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50"
                            placeholder="Enter paragraph or URL"></textarea>
                                        <div class="description-image-entry border border-gray-200 rounded-md p-2 hidden">
                                            <img src="" alt="empty" class="h-40 w-full object-contain">
                                        </div>
                                    </div>
                                    <div class="flex flex-col space-y-2">
                                        <button
                                                class="toggle-description-type px-2 py-1 text-sm bg-gray-500 text-white rounded-md hover:bg-gray-600"
                                                title="Switch to Image">Image
                                        </button>
                                        <button
                                                class="delete-description-btn px-2 py-1 text-sm bg-red-600 text-white rounded-md hover:bg-red-aiman700">
                                            Delete
                                        </button>
                                    </div>
                                    <input type="file" accept="image/*" class="description-image-input hidden">
                                </div>
                            </div>
                            <button class="add-product-description-btn mt-4 px-3 py-1 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700">
                                Add Description
                            </button>
                        </div>


                        <!-- Hidden Image Entry Template -->
                        <div id="image-entry-template" class="hidden">
                            <div class="image-entry border border-gray-200 rounded-md p-2 relative">
                                <img src="" alt="Uploaded Image" class="h-40 w-full object-contain image-entry-img">
                                <div class="absolute top-2 right-2 flex space-x-1">
                                    <button class="move-left-btn p-1 bg-gray-500 text-white rounded hover:bg-gray-600"
                                            title="Move Left">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
                                             stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                  d="M15 19l-7-7 7-7"/>
                                        </svg>
                                    </button>
                                    <button class="move-right-btn p-1 bg-gray-500 text-white rounded hover:bg-gray-600"
                                            title="Move Right">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
                                             stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                  d="M9 5l7 7-7 7"/>
                                        </svg>
                                    </button>
                                    <button class="delete-image-btn p-1 bg-red-600 text-white rounded hover:bg-red-700"
                                            title="Delete Image">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
                                             stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                  d="M6 18L18 6M6 6l12 12"/>
                                        </svg>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- JavaScript -->
        <script type="module" src="/js/product-add-new-product/add-new-product.js"></script>
        <script type="module" src="/js/product-add-new-product/post-new-product.js"></script>
    </div>
</body>
</html>